<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script>
               var imgArrs = [];
                var img1 = new Image();
                var img2 = new Image();
                img1.src = "img/1.png";
                imgArrs.push(img1);
                img2.src = "img/2.png";
                imgArrs.push(img2);
    </script>
</head>
<body>
<div style="margin:0 auto;">
    <div id="preImg" style="overflow:hidden;width:0;height:0;"></div>
    <div style="display:inline-block;min-width:600.0px;margin:0 auto;">
        <div style="height:73.0px;background:#2688fe;">
            <div style="margin-left:50.0px;height:73.0px;background:url(./img/1.png) no-repeat left center;background-size:200px">
                <div style="display:inline-block;margin-left:160.0px;margin-top:3.0px;line-height:70.0px;">
                </div>
            </div>

        </div>
        <div style="padding:0 55.0px 20.0px 55.0px;border-left:1.0px solid #dddddd;border-right:1.0px solid #dddddd;">

            <div style="position:relative;display:table;min-width:500.0px;margin:0 auto;width:100%;height:100%;">
                <div class="user-message" style="padding-top:1.0px;position:absolute;width:100%;">
                    <p style="font-size:14.0px;">您有一个新任务：吴志鹏(WB280430)提交的(S1(高危)-漏洞测试--邮件测试2)漏洞从2018-04-21
                        14:03:13延期到2018-04-26 14:03:13修复，主管已审批通过，请确认审批，链接：
                        <a
                                href="javascript:;"
                                target="_blank">
                            点击查看
                        </a>
                    </p>
                </div>
                <table class="loophole-message" border="0"
                       style="position:relative;text-align:left;min-width:500.0px;height:200.0px;border-collapse:collapse;font-size:12.0px;">
                    <tbody>
                    <tr style="border-top:1.0px solid #dddddd;">
                        <th style="background: rgb(233, 242, 251); width: 18%; height: auto; padding: 15px 10px; text-align: center;">
                            漏洞大类
                        </th>
                        <td style="padding-left:10.0px;color:#666670;">Web安全漏洞</td>
                        <th style="background: rgb(233, 242, 251); width: 18%; height: auto; padding: 15px 10px; text-align: center;">
                            漏洞小类
                        </th>
                        <td style="padding-left:10.0px;color:#666670;">反射型XSS</td>
                    </tr>
                    <tr style="border-top:1.0px solid #dddddd;">
                        <th style="background: rgb(233, 242, 251); width: 18%; height: auto; padding: 15px 10px; text-align: center;">
                            发现途径
                        </th>
                        <td style="padding-left:10.0px;color:#666670;">内部</td>
                        <th style="background: rgb(233, 242, 251); width: 18%; height: auto; padding: 15px 10px; text-align: center;">
                            检测工具
                        </th>
                        <td style="padding-left:10.0px;color:#666670;">人工</td>
                    </tr>
                    <tr style="border-top:1.0px solid #dddddd;">
                        <th style="background: rgb(233, 242, 251); width: 18%; height: auto; padding: 15px 10px; text-align: center;">
                            等级
                        </th>
                        <td style="padding-left:10.0px;color:#666670;">S1(高危)</td>
                        <th style="background: rgb(233, 242, 251); width: 18%; height: auto; padding: 15px 10px; text-align: center;">
                            应用
                        </th>
                        <td style="padding-left:10.0px;color:#666670;">阿里云-万网-支撑平台/sc/sc</td>
                    </tr>
                    <tr style="border-top:1.0px solid #dddddd;">
                        <th style="background: rgb(233, 242, 251); width: 18%; height: auto; padding: 15px 10px; text-align: center;">
                            发现时间
                        </th>
                        <td style="padding-left:10.0px;color:#666670;">2018-04-18 14:03:13</td>
                        <th style="background: rgb(233, 242, 251); width: 18%; height: auto; padding: 15px 10px; text-align: center;">
                            限定修复时间
                        </th>
                        <td style="padding-left:10.0px;color:#666670;">2018-04-21 14:03:13</td>
                    </tr>
                    <tr style="border-top:1.0px solid #dddddd;">
                        <th style="background: rgb(233, 242, 251); width: 18%; height: auto; padding: 15px 10px; text-align: center;">
                            受影响漏洞URL
                        </th>
                        <td colspan="3" style="padding-left:10.0px;color:#666670;">
                            <a href="http://daily-sc.cainiao-inc.com/riskFeedback/riskFeedback.htm?spm=a2d47.10389560.0.0.3ff52758FFDPFb"
                               target="_blank">http://daily-sc.cainiao-inc.com/riskFeedback/riskFeedback.htm?spm=a2d47.10389560.0.0.3ff52758FFDPFb</a>
                        </td>
                    </tr>
                    <tr style="border-top:1.0px solid #dddddd;border-bottom:1.0px solid #dddddd;">
                        <th style="background: rgb(233, 242, 251); width: 18%; height: auto; padding: 15px 10px; text-align: center;">
                            漏洞详情
                        </th>
                        <td colspan="3" style="padding-left:10.0px;color:#666670;">
                            <div style="overflow:auto;max-width:800px;">
                                <div style="box-sizing: border-box; margin: 0px; padding: 0px; list-style: none; color: rgb(153, 153, 153); font-family: tahoma, 微软雅黑; font-size: 14px; line-height: 25.2px; height: auto;">
                                    <span style="box-sizing:border-box;margin:0;padding:0;list-style:none;"><strong>一、详细说明：其中包括场景、截图、漏洞重现的方法</strong></span>
                                </div>
                                <div style="clear:both;"><br>司法改革</div>
                                    <img src="">
                                <div style="box-sizing: border-box; margin: 0px; padding: 0px; list-style: none; color: rgb(153, 153, 153); font-family: tahoma, 微软雅黑; font-size: 14px; line-height: 25.2px; height: auto;">
                                    <span style="box-sizing:border-box;margin:0;padding:0;list-style:none;"><strong>二、漏洞证明（在这里写poc）</strong></span>
                                </div>
                                    <img src="">
                                    <div style="box-sizing: border-box; margin: 0px; padding: 0px; list-style: none; color: rgb(153, 153, 153); font-family: tahoma, 微软雅黑; font-size: 14px; line-height: 25.2px; height: auto;">
                                        <span style="box-sizing:border-box;margin:0;padding:0;list-style:none;"><strong>三、修复方案</strong></span>
                                    </div>
                                    <div style="clear:both;"><br><br></div>
                                    <div style="line-height: 20px; clear: both; height: auto;"><br></div>
                                </div>
                        </td>
                    </tr>
                    </tbody>
                </table>

                <div class="footer-message" style="position:absolute;padding:25.0px 0px;">
                    <h6 style="margin:0 0 8.0px 0;">温馨提示：</h6>
                    <ol style="margin:0 0 0 15.0px;padding:0;">
                        <li style="margin-bottom:5.0px;font-size:12.0px;color:#9e9f9a;">
                            与你相关，点击“开始修复”，修复完成后，再回到处理页面点击“修复完成”。
                        </li>
                        <li style="margin-bottom:5.0px;font-size:12.0px;color:#9e9f9a;">与你无关，但知道该谁处理：点击“转移”。</li>
                        <li style="margin-bottom:5.0px;font-size:12.0px;color:#9e9f9a;">
                            漏洞无法按期修复完成，点击“延期”，更新“限定修复时间”，该操作需要上级审批。
                        </li>
                        <li style="margin-bottom:5.0px;font-size:12.0px;color:#9e9f9a;">
                            与你相关，但此漏洞不需要修复：点击“不修复”，该操作需要上级审批。<br><span
                                style="color:#ff0000;">依据《<span style="color:#0000ff;">中华人民共和国网络安全法</span>》第二十二条、六十条规定，请立即采取修复措施，否则将面临法律风险。</span>
                        </li>
                    </ol>
                </div>
            </div>

        </div>
        <div class="footer-wrap" style="background:#f2f2f2;width:100%;box-sizing:border-box;border:1px solid #dddddd;">
        </div>
    </div>

</div>
<div id="look-img" style="position:fixed;top:0;left:0;right:0;bottom:0;z-index:999999;background:rgba(0,0,0,.5);display:none;" onclick="hide();">
  <img id="look-source" src="" />
</div>
</div>
<script type="text/javascript">

    function hide(){
        const lookImg = document.getElementById('look-img');
        lookImg.style.display = 'none';
    }
    window.onload = function () {
        const userMessage = document.getElementsByClassName('user-message')[0];
        const loopholeMessage = document.getElementsByClassName('loophole-message')[0];
        const footerMessage = document.getElementsByClassName('footer-message')[0];
        const footerWrap = document.getElementsByClassName('footer-wrap')[0];
        const userMessageHeight = userMessage.offsetHeight;
        const footerMessageHeight = footerMessage.offsetHeight;
        loopholeMessage.style.marginTop = userMessageHeight + 'px';
        // loopholeMessage.style.marginBottom = footerMessageHeight + 'px';
        footerMessage.style.bottom = -footerMessageHeight - 20 + 'px'
        footerWrap.style.height = footerMessageHeight + 'px';
        imgArrs.forEach(function(item,key){
            item.class = "preload";

            item.style.cssText = 'visibility:hidden;position:absolute;top:0;'
            console.log(item.offsetWidth)
            // document.getElementById('preImg').append(item);

        });

        const imgArr = document.getElementsByTagName('table')[0].getElementsByTagName('img');
        Array.prototype.forEach.call(imgArr, function(item, key){
            item.src = imgArrs[key].src;
            if(item.offsetWidth > 1024) {
                item.style.width = '50%';
            }
            item.onclick =   function show(e){
                const lookImg = document.getElementById('look-img');
                const lookSource = document.getElementById('look-source');
                lookImg.style.display = 'flex';
                lookImg.style.alignItems = 'center';
                lookImg.style.justifyContent = 'center';

                lookSource.style.width = '80%'

                lookSource.src = e.target.src;
            }
        });


    }
</script>
</body>
</html>
</body>
</html>